<html>
	<head>
		<title>yafov - Yet Another Form Validator plugin for jQuery</title>
		<link href="style01.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>

		<h2>New Input Types</h2>
		<!-- https://developer.mozilla.org/en/HTML/Forms_in_HTML -->
		<form id="newTypes">
      <div><label>required: </label><br /><input required title="normal" /></div>
			<div><label>tel: </label><br /><input id="telfield" type="tel" required /></div>
			<div><label>search: </label><br /><input type="search" required /></div>
			<div><label>email: </label><br /><input type="email" required /></div>
			<div><label>url: </label><br /><input type="url" required /></div>
			<div><label>datetime: </label><br /><input type="datetime" required /></div>
			<div><label>date: </label><br /><input type="date" required /></div>
			<div><label>month: </label><br /><input type="month" required /></div>
			<div><label>week: </label><br /><input type="week" required /></div>
			<div><label>time: </label><br /><input type="time" required /></div>
			<div><label>datetime-local: </label><br /><input type="datetime-local" required /></div>
			<div><label>number: </label><br /><input type="number" required /></div>
			<div><label>range: </label><br /><input type="range" min="5" max="10" /></div>
			<div><label>color: </label><br /><input type="color" required /></div>
      <input type="submit" value="Submit" />
      <button type="button" id="TelValidate">Validate tel!</button>
		</form>

		<script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
		<script type="text/javascript" src="jquery.yafov.js"></script>

		<script type="text/javascript">
		$(document).ready(function () {
        $.yafov.addMethod('[type="tel"]', 'telfoobar', function (value, element, cb) {
          $(element).addClass('load');
          setTimeout(function () {
              var isValid = value !== '123';
              cb(isValid);
              $(element).removeClass('load');
          }, 1000);
        });
      var validator = $('#newTypes').yafov();
      validator.bind('invalidfound', function (e, error) {
          var field = $(error.field);
          var fieldId = field.attr('id');
          var msg = 'Error found. ' + error.name;
          field.addClass('error').removeClass('valid');
          field.parent().find('label.error').remove();
          field.parent().append($('<label class="error"' + (fieldId ? ' for="' + fieldId + '"' : '') + '>' + msg + '</label>'));
      });
      validator.bind('validfound', function (e, error, element) {
          var field = $(error.field);
          field.removeClass('error').addClass('valid');
          field.parent().find('label.error').remove();
          console.log('no error found', arguments);
      });
      validator.bind('formvalid', function (e, args) {
          console.log('form valid', args);
          // this.submit();
      });
      validator.bind('forminvalid', function (e, args) {
          console.log('form invalid', args);
      });
      $('#TelValidate').click(function () {
          $.yafov.validateWith($('#telfield'), 'required', function (isValid) {
              console.log('validate with result: ', isValid);
          });
      });
		});
		</script>
	</body>
</html>
